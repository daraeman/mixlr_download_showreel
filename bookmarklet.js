function addStyles(){$("head").append('<style type="text/css">.mds .mixlr_player .social_links .mixlr_download_showreel_download{color:#c8c8c8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAV1BMVEUAAACkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSzvKEUAAAAHHRSTlMAAQUHCQoRGBkcHz9AUFZecYCVqLTK0dPp7ff5cWDvugAAAGlJREFUGNO1zckKwCAMBNDYfdfui/n/76xKDFZKbx1yGB7oAHyk0YhLjB2a/I3JiRzJOrFdFaPwetXBB6QPI43MaWCje7inQpbQu34UQBNbDjBQbz2inndfO8AwKrMX4arstTQUxgy95Qa+KRMWu5MJ+wAAAABJRU5ErkJggg==);background-position:center center;width:20px;height:20px}.mds .mixlr_player .social_links .mixlr_download_showreel_download:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAV1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////+ORg7oAAAAHHRSTlMAAQUHCQoRGBkcHz9AUFZecYCVqLTK0dPp7ff5cWDvugAAAGlJREFUGNO1zckKwCAMBNDYfdfui/n/76xKDFZKbx1yGB7oAHyk0YhLjB2a/I3JiRzJOrFdFaPwetXBB6QPI43MaWCje7inQpbQu34UQBNbDjBQbz2inndfO8AwKrMX4arstTQUxgy95Qa+KRMWu5MJ+wAAAABJRU5ErkJggg==)}.mds .mixlr_player .social_links .mixlr_download_showreel_state{color:#c8c8c8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA6lBMVEUAAACkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKQzxDvQAAAATXRSTlMAAQIDBQYHCQ8TFBUYGhwdHiAhIyQlJygpKi0xNTdBQkdKUFFVVlljZmlseH6Aj6Cipqitsre5vsXHyszOz9HT1dfZ2ubp7fHz9fn7/TY7Zi8AAADHSURBVBgZXcELO8JgAIbhZ1tFRYXImRxCy5nIKSSrtvf//x1f33bZ6r6JuY2W77caLimvHcqaXHgkSgP9+ypi1SJlhBWMwlAzfvLAnebcQFkZTwv7kkqcK9X14FA6oyvpujmW8eACu9Ijv9IVLI2kexdYnUhDxlIVKAe3DrAeShrxJj3ngEUH2IxkvHIp6SWHtR1pqsOWjPc8xo5iGzgDGf0C7Cn2Caxo6rt4oEQN41QzjrBOlHFMotJX4mOZVN3vBUHPX8P6A0whSSzOxThUAAAAAElFTkSuQmCC);background-position:center center;width:20px;height:20px}.mds .mixlr_player .social_links .mixlr_download_showreel_state:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA6lBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Le70HAAAATXRSTlMAAQIDBQYHCQ8TFBUYGhwdHiAhIyQlJygpKi0xNTdBQkdKUFFVVlljZmlseH6Aj6Cipqitsre5vsXHyszOz9HT1dfZ2ubp7fHz9fn7/TY7Zi8AAADHSURBVBgZXcELO8JgAIbhZ1tFRYXImRxCy5nIKSSrtvf//x1f33bZ6r6JuY2W77caLimvHcqaXHgkSgP9+ypi1SJlhBWMwlAzfvLAnebcQFkZTwv7kkqcK9X14FA6oyvpujmW8eACu9Ijv9IVLI2kexdYnUhDxlIVKAe3DrAeShrxJj3ngEUH2IxkvHIp6SWHtR1pqsOWjPc8xo5iGzgDGf0C7Cn2Caxo6rt4oEQN41QzjrBOlHFMotJX4mOZVN3vBUHPX8P6A0whSSzOxThUAAAAAElFTkSuQmCC)}.mds .mixlr_player .social_links .mixlr_download_showreel_state.checked{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA6lBMVEUAAAAOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUOyRUG8FaoAAAATXRSTlMAAQIDBQYHCQ8TFBUYGhwdHiAhIyQlJygpKi0xNTdBQkdKUFFVVlljZmlseH6Aj6Cipqitsre5vsXHyszOz9HT1dfZ2ubp7fHz9fn7/TY7Zi8AAADHSURBVBgZXcELO8JgAIbhZ1tFRYXImRxCy5nIKSSrtvf//x1f33bZ6r6JuY2W77caLimvHcqaXHgkSgP9+ypi1SJlhBWMwlAzfvLAnebcQFkZTwv7kkqcK9X14FA6oyvpujmW8eACu9Ijv9IVLI2kexdYnUhDxlIVKAe3DrAeShrxJj3ngEUH2IxkvHIp6SWHtR1pqsOWjPc8xo5iGzgDGf0C7Cn2Caxo6rt4oEQN41QzjrBOlHFMotJX4mOZVN3vBUHPX8P6A0whSSzOxThUAAAAAElFTkSuQmCC)}#mds_list_links{position:absolute;right:0;bottom:0;cursor:pointer;height:20px;color:#646464}#mds_list_links_box{position:relative;top:-3px;width:100%;border:1px solid #ccc;border-bottom-width:0;height:0}</style>'),$("body").addClass("mds")}function addLinks(){for(i=0;i<broadcasts.length;i++){var a=$('.mixlr_player[data-broadcast_id="'+broadcasts[i].id+'"]'),e=a.find(".player_header .social_links");e.append('<li><a class="mixlr_download_showreel_download" href="'+broadcasts[i].streams.http.url+'" download="'+broadcasts[i].user_slug+"_"+broadcasts[i].title.replace(/[^\w]/g,"")+'.mp3"></a></li>'),e.append('<li><a class="mixlr_download_showreel_state"></a></li>')}}function addTriggers(){$(".mixlr_player .social_links .mixlr_download_showreel_state").click(function(){var a=$(this),e=a.parent().parent().parent().parent().attr("data-broadcast_id");a.hasClass("checked")?(a.removeClass("checked"),delete saved[e]):(a.addClass("checked"),saved[e]=1),localStorage.setItem(saved_local_key,JSON.stringify(saved))})}function updateSavedView(){$(".mixlr_player").each(function(){var a=$(this);saved[a.attr("data-broadcast_id")]?a.find(".social_links .mixlr_download_showreel_state").addClass("checked"):a.find(".social_links .mixlr_download_showreel_state").removeClass("checked")})}function addBottomNav(){$(".big_wrapper .pagination").first().clone(!0).insertAfter($(".showreel-list"))}function getLinks(a){console.log("getLinks"),console.log("saved >>"),console.log(saved);var e="";for(i=0;i<broadcasts.length;i++)console.log("id = "+broadcasts[i].id),(!saved[broadcasts[i].id]||a)&&(console.log("id not exist"),e+=broadcasts[i].streams.http.url+"\n");return e||"All Links have already been downloaded"}function addLinksBox(){var a=$('<div id="mds_list_links">List Links</div>');$("#title").append(a);var e=$('<textarea id="mds_list_links_box"></textarea>');$("#title").append(e),a.css("top",a.position().top).click(function(){$(this).hasClass("expanded")?($(this).removeClass("expanded").text("List Links"),$("#title").animate({height:""}),e.animate({height:"0px"})):($(this).addClass("expanded").text("Hide Links"),$("#title").animate({height:$("#title").outerHeight()+100+"px"}),e.text(getLinks()).animate({height:"100px"}))})}var saved_local_key="mixlr_download_showreel_save_state",try_number=0,max_tries=1e3,last_id=broadcasts[broadcasts.length-1].id,saved=JSON.parse(localStorage.getItem(saved_local_key));saved||(saved={});var wait_for_mixlr_to_load_interval=setInterval(function(){$('.mixlr_player[data-broadcast_id="'+last_id+'"]').length&&(addStyles(),addLinks(),addTriggers(),updateSavedView(),addBottomNav(),addLinksBox(),clearInterval(wait_for_mixlr_to_load_interval)),try_number++>max_tries&&clearInterval(wait_for_mixlr_to_load_interval)},250);
